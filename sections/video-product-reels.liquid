<style>
.video-reels-wrapper {
  display: flex;
  gap: 20px;
  overflow-x: auto;
  overflow-y: visible;
  padding: 20px 20px 55px; /* bottom space so scrollbar na aaye */
  scrollbar-width: none;
}

.video-reels-wrapper::-webkit-scrollbar {
  display: none;
}

{% comment %} .video-card:hover{
border:1px solid gray;
} {% endcomment %}

.video-card {
  min-width: 280px;
  border-radius: 18px;
  overflow: visible; /* card ko bahar aane dena hai */
  position: relative;
  background: transparent;
}

.video-card video {
  width: 100%;
  height: 400px;
  object-fit: cover;
  border-radius: 18px;
  display: block;
}

/* ===== Floating Product Card ===== */

.product-info {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  bottom: -30px; /* video ke bahar nikal raha hai */
  width: 92%;
  background: #ffffff;
  border-radius: 18px;
  padding: 14px;
  z-index: 10;
  box-shadow: 0 12px 30px rgba(0, 0, 0, 0.07);
}

/* Product text styling */

.product-details {
  display: flex;
  gap: 10px;
  align-items: center;
  margin-bottom: 12px;
}

.product-details div div:first-child {
  font-weight: 600;
  font-size: 14px;
}

.product-details div div:last-child {
  font-weight: 600;
  font-size: 15px;
}

.product-info img {
  width: 50px;
  height: 50px;
  object-fit: cover;
  border-radius: 8px;
}

/* Button Group */

.btn-group {
  display: flex;
  justify-content: space-between;
  gap: 10px;
}

.add-to-cart-btn {
  flex: 1;
  background: #1c3b1e;
  color: #fff;
  padding: 8px;
  border: none;
  cursor: pointer;
  border-radius: 8px;
  font-weight: 600;
  font-size: 13px;
}

.add-to-cart-btn:hover {
  opacity: 0.9;
}
</style>

<div class="video-reels-wrapper">
  {% for block in section.blocks %}
    {% assign product = all_products[block.settings.product] %}
    
    <div class="video-card">
      
      <video autoplay muted loop playsinline>
        <source src="{{ block.settings.video }}" type="video/mp4">
      </video>

      {% if product != blank %}
      <div class="product-info">
        <div class="product-details">
          <img src="{{ product.featured_image | img_url: '100x' }}">
          <div>
            <div>{{ product.title }}</div>
            <div>{{ product.price | money }}</div>
          </div>
        </div>

        <form method="post" action="/cart/add">
          <input type="hidden" name="id" value="{{ product.variants.first.id }}">
         
          <div class="btn-group">

            <button type="submit" class="add-to-cart-btn">
              ADD TO CART
            </button>

            <svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" style="height: 34px; width: 34px;">
              <rect width="32" height="32" rx="6" fill="#2A431C"></rect>
              <g fill="#ffffff">
                <circle cx="13" cy="24" r="2"></circle>
                <circle cx="20" cy="24" r="2"></circle>
                <path d="M23 11H11l-1-3H8v2h1l2 9h9l2-6z"></path>
              </g>
            </svg>

          </div>
        </form>
      </div>
      {% endif %}

    </div>
  {% endfor %}
</div>

{% schema %}
{
  "name": "Video Product Reels",
  "settings": [],
  "blocks": [
    {
      "type": "video_block",
      "name": "Video Item",
      "settings": [
        {
          "type": "text",
          "id": "video",
          "label": "Video URL (Upload video in Files and paste link)"
        },
        {
          "type": "product",
          "id": "product",
          "label": "Select Product"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Video Product Reels"
    }
  ]
}
{% endschema %}